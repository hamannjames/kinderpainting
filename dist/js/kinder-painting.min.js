"use strict";

var throttle = function throttle(func, wait, immediate) {
  var timeout;
  return function () {
    var context = this,
        args = arguments;

    var later = function later() {
      timeout = null;
      if (!immediate) func.apply(context, args);
    };

    var callNow = immediate && !timeout;
    if (!timeout) timeout = setTimeout(later, wait);
    if (callNow) func.apply(context, args);
  };
};

var contactToggle = document.getElementById('site_contact_toggle');
var navToggle = document.getElementById('site_nav_toggle');
var headerNav = document.getElementById('site_nav');
var contactClose = document.getElementById('site_drawer_close');
contactToggle.addEventListener('click', function () {
  headerNav.classList.add('open');
});
contactClose.addEventListener('click', function () {
  headerNav.classList.remove('open');
});

function addMobile() {
  console.log('hi');

  if (window.matchMedia('(max-width: 640px)').matches) {
    document.body.classList.add('mobile');
  } else {
    document.body.classList.remove('mobile');
  }
}

addMobile();
window.addEventListener('resize', throttle(addMobile, 150));